<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Tracking mit MindAR</title>
  
  <!-- A-Frame & MindAR.js -->
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.1.1/dist/mindar-image-aframe.prod.js"></script>
  
  <style>
      body { margin: 0; overflow: hidden; }
      #startButton { 
         position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
         padding: 10px 20px; font-size: 18px; z-index: 1000; cursor: pointer;
      }
  </style>
</head>
<body>

  <!-- Start-Button fÃ¼r iOS-Kamera-Zugriff -->
  <button id="startButton">Start AR</button>

  <a-scene id="arScene" style="display: none;" 
           mindar-image="imageTargetSrc: https://oldnovize.github.io/targets.mind; debugUIEnabled: true;" 
           embedded color-space="sRGB"
           vr-mode-ui="enabled: false" 
           device-orientation-permission-ui="enabled: true">
      
      <a-entity mindar-image-target="targetIndex: 0">
          <a-text value="Check it out!" 
                  color="red" 
                  align="center" 
                  width="2" 
                  position="0 0.3 0" 
                  scale="0.5 0.5 0.5">
          </a-text>
      </a-entity>

      <a-camera position="0 0 0"></a-camera>
  </a-scene>

  <script>
  // Zeigt alle Fehler in einem DIV auf der Seite
  window.onerror = function(message, source, lineno, colno, error) {
    let log = document.createElement("div");
    log.style.position = "absolute";
    log.style.top = "20px";
    log.style.left = "10px";
    log.style.background = "white";
    log.style.padding = "10px";
    log.style.zIndex = "1000";
    log.innerHTML = `<strong>Fehler:</strong> ${message}<br>Quelle: ${source}<br>Zeile: ${lineno}:${colno}`;
    document.body.appendChild(log);
  };
</script>

</body>
</html>
